<!--liveUpdateTitle: { type: String, required: true },-->
<!--liveUpdateDescription: { type: String, required: true },-->
<!--liveUpdateDescription: { type: String, required: true },-->
<!--liveUpdateImage: { type: String },-->
<!--isImportant: { type: Boolean, default: false },-->
<div class="news">
  <div class="grid justify-content-center align-content-center">
    <div class="lg:col-6 xl:col-6 xs:col-12 sm:col-12">
      <p-card>
        <form [formGroup]="form">
          <span class="p-float-label">
            <input pInputText id="liveUpdateTitle" formControlName="liveUpdateTitle"/>
            <label for="liveUpdateTitle">Live Update Title</label>
          </span>

          <p-divider></p-divider>

          <div class="description">
            <h3>Description</h3>
            <editor
              [init]="{ plugins: 'lists link image table code help wordcount' }"
              apiKey="tptzzifdqhbljxdvka1k9lcmin7jyign9xc1pd95jtkjmqy1"
              formControlName="liveUpdateDescription"
            ></editor>
          </div>

          <p-divider></p-divider>

          <div class="description">
            <h3>rich description</h3>
            <editor
              [init]="{ plugins: 'lists link image table code help wordcount' }"
              apiKey="tptzzifdqhbljxdvka1k9lcmin7jyign9xc1pd95jtkjmqy1"
              formControlName="liveUpdateRichDescription"
            ></editor>
          </div>

          <p-divider></p-divider>


          <div class="file mt-3">
            <h3>Image</h3>
            <button pButton (click)="inputCoverImage.click()">Upload Image</button>
            <input type="file" #inputCoverImage style="display: none" class="mt-2" (change)="onCoverPicked($event)">
          </div>


          <div class="imagePreview mt-2" *ngIf="imagePreview&&form.get('liveUpdateImage')?.valid">
            <p-image [src]=imagePreview [alt]="form.controls['liveUpdateTitle']?.value" width="250"
                     [preview]="true"></p-image>
          </div>


          <p-divider></p-divider>


          <div class="input-switch mt-3">
            <label for="isImportant" class="mr-2">Is Important</label>
            <p-inputSwitch id="isImportant" formControlName="isImportant"></p-inputSwitch>

          </div>


          <div class="footer mt-3">
            <button pButton class="p-button-success"
                    (click)="onSubmit()"
                    [disabled]="isSubmitting ||!form.valid"
            >Submit
            </button>
          </div>
        </form>
      </p-card>
    </div>
  </div>
</div>

