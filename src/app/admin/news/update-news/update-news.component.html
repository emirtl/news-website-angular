<div class="news">
  <div class="grid justify-content-center align-content-center">
    <div class="col-6">
      <p-card>
        <form [formGroup]="form">
          <span class="p-float-label">
            <input pInputText id="title" formControlName="title"/>
            <label for="title">Title</label>
          </span>

          <p-divider></p-divider>

          <div class="description">
            <h3>Description</h3>
            <editor
              [init]="{ plugins: 'lists link image table code help wordcount' }"
              apiKey="tptzzifdqhbljxdvka1k9lcmin7jyign9xc1pd95jtkjmqy1"
              formControlName="description"
            ></editor>
          </div>

          <p-divider></p-divider>

          <div class="description">
            <h3>rich description</h3>
            <editor
              [init]="{ plugins: 'lists link image table code help wordcount' }"
              apiKey="tptzzifdqhbljxdvka1k9lcmin7jyign9xc1pd95jtkjmqy1"
              formControlName="richDescription"
            ></editor>
          </div>

          <p-divider></p-divider>

          <div class="file mt-3">
            <button pButton (click)="inputFile.click()">Upload File</button>
            <input type="file" #inputFile style="display: none" class="mt-2" (change)="onPhotoPicked($event)">
          </div>

          <div class="imagePreview mt-2" *ngIf="imagePreview&&form.get('image').valid">
            <p-image [src]=imagePreview alt="Image" width="250" [preview]="true"></p-image>
          </div>

          <p-divider></p-divider>

          <div class="author mt-3">
            <p-dropdown formControlName="author" [options]="authors$|async" optionValue="id" optionLabel="name"
                        placeholder="Select an author"></p-dropdown>

          </div>

          <p-divider></p-divider>

          <div class="category mt-3">
            <p-dropdown formControlName="category" [options]="categories$|async" optionValue="id" optionLabel="title"
                        placeholder="Select a category"></p-dropdown>


          </div>


          <div class="footer mt-3">
            <button pButton class="p-button-warning"
                    (click)="onUpdate()"
                    [disabled]="isSubmitting ||!form.valid"
            >Update
            </button>
          </div>
        </form>
      </p-card>
    </div>
  </div>
</div>

